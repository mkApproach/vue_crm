"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[524],{4717:(e,t,n)=>{n.d(t,{Z:()=>c});var a=n(3645),s=n.n(a)()((function(e){return e[1]}));s.push([e.id,"li[data-v-55ab4955]{list-style:none;margin-bottom:15px}.red[data-v-55ab4955]{color:red}.gray[data-v-55ab4955]{color:#33a}",""]);const c=s},6524:(e,t,n)=>{n.r(t),n.d(t,{default:()=>i});const a={data:function(){return{newtask:{content:"",emergency:!1},tasks:[]}},methods:{taskCreate:function(){var e=this;""!=this.newtask.content&&axios.post("/api/task/create",this.newtask).then((function(t){e.newtask.emergency=!1,e.newtask.content="",e.taskRead()}))},taskUpdate:function(e){var t=this;this.tasks[e].edit=!1,axios.put("/api/task/update",this.tasks[e]).then((function(e){t.taskRead()}))},taskDelete:function(e){var t=this;axios.delete("/api/task/delete/"+e).then((function(e){t.taskRead()}))},taskRead:function(){var e=this;axios.get("/api/task/read").then((function(t){e.tasks=t.data,e.tasks.forEach((function(t){e.$set(t,"edit",!1)}))}))}},mounted:function(){this.taskRead()}};var s=n(3379),c=n.n(s),r=n(4717),o={insert:"head",singleton:!1};c()(r.Z,o);r.Z.locals;const i=(0,n(1900).Z)(a,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"taskComponent"},[n("form",{on:{submit:function(t){return t.preventDefault(),e.taskCreate.apply(null,arguments)}}},[e._v("\n        緊急："),n("input",{directives:[{name:"model",rawName:"v-model",value:e.newtask.emergency,expression:"newtask.emergency"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.newtask.emergency)?e._i(e.newtask.emergency,null)>-1:e.newtask.emergency},on:{change:function(t){var n=e.newtask.emergency,a=t.target,s=!!a.checked;if(Array.isArray(n)){var c=e._i(n,null);a.checked?c<0&&e.$set(e.newtask,"emergency",n.concat([null])):c>-1&&e.$set(e.newtask,"emergency",n.slice(0,c).concat(n.slice(c+1)))}else e.$set(e.newtask,"emergency",s)}}}),n("br"),e._v("\n        内容："),n("input",{directives:[{name:"model",rawName:"v-model",value:e.newtask.content,expression:"newtask.content"}],attrs:{type:"text"},domProps:{value:e.newtask.content},on:{input:function(t){t.target.composing||e.$set(e.newtask,"content",t.target.value)}}}),e._v(" "),n("button",[e._v("create")])]),e._v(" "),n("hr"),e._v(" "),n("hr"),e._v(" "),n("ul",e._l(e.tasks,(function(t,a){return n("li",{key:a},[e._v("\n            緊急："),n("input",{directives:[{name:"model",rawName:"v-model",value:t.emergency,expression:"task.emergency"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.emergency)?e._i(t.emergency,null)>-1:t.emergency},on:{change:[function(n){var a=t.emergency,s=n.target,c=!!s.checked;if(Array.isArray(a)){var r=e._i(a,null);s.checked?r<0&&e.$set(t,"emergency",a.concat([null])):r>-1&&e.$set(t,"emergency",a.slice(0,r).concat(a.slice(r+1)))}else e.$set(t,"emergency",c)},function(t){return e.taskUpdate(a)}]}}),n("br"),e._v("\n            内容："),t.edit?e._e():n("span",{class:{red:t.emergency}},[e._v(e._s(t.content))]),e._v(" "),t.edit?n("input",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"task.content"}],attrs:{type:"text"},domProps:{value:t.content},on:{input:function(n){n.target.composing||e.$set(t,"content",n.target.value)}}}):e._e(),e._v(" "),t.edit?e._e():n("button",{on:{click:function(e){t.edit=!0}}},[e._v("edit")]),e._v(" "),t.edit?n("button",{on:{click:function(t){return e.taskUpdate(a)}}},[e._v("update")]):e._e(),e._v(" "),n("button",{on:{click:function(n){return e.taskDelete(t.id)}}},[e._v("delete")])])})),0)])}),[],!1,null,"55ab4955",null).exports}}]);